# ═══════════════════════════════════════════════════════════════
#                TrendRadar - VN RSS ONLY CONFIG
#                Chỉ crawl RSS VnExpress
#                Không dùng schedule / hotlist
# ═══════════════════════════════════════════════════════════════

# ===============================================================
# 1. Cấu hình cơ bản
# ===============================================================
app:
  timezone: "Asia/Ho_Chi_Minh"
  show_version_update: false


# ===============================================================
# 1.5 TẮT HOÀN TOÀN HỆ THỐNG LỊCH
# ===============================================================
schedule:
  enabled: false


# ===============================================================
# 2. TẮT TOÀN BỘ HOTLIST (KHÔNG CRAWL MXH / TQ)
# ===============================================================
platforms:
  enabled: false
  sources: []


# ===============================================================
# 3. RSS – CHỈ VNEXPRESS
# ===============================================================
rss:
  enabled: true

  freshness_filter:
    enabled: true
    max_age_days: 1        # Chỉ lấy tin trong 24h

  feeds:
    - id: "vnexpress-latest"
      name: "VnExpress - Tin mới nhất"
      url: "https://vnexpress.net/rss/tin-moi-nhat.rss"


# ===============================================================
# 4. CHẾ ĐỘ BÁO CÁO
# ===============================================================
report:
  mode: "incremental"     # Chỉ push khi có tin mới
  display_mode: "platform"
  rank_threshold: 0
  max_news_per_keyword: 0


# ===============================================================
# 5. HIỂN THỊ NỘI DUNG
# ===============================================================
display:
  region_order:
    - rss
    - ai_analysis

  regions:
    hotlist: false
    new_items: false
    rss: true
    standalone: false
    ai_analysis: true


# ===============================================================
# 6. PUSH NOTIFICATION
# (Token / webhook → GitHub Secrets, KHÔNG để ở đây)
# ===============================================================
notification:
  enabled: true

  channels:
    telegram:
      bot_token: ""
      chat_id: ""

    wework:
      webhook_url: ""
      msg_type: "markdown"

    feishu:
      webhook_url: ""

    dingtalk:
      webhook_url: ""

    email:
      from: ""
      password: ""
      to: ""
      smtp_server: ""
      smtp_port: ""

    ntfy:
      server_url: "https://ntfy.sh"
      topic: ""
      token: ""

    bark:
      url: ""

    slack:
      webhook_url: ""

    generic_webhook:
      webhook_url: ""
      payload_template: ""


# ===============================================================
# 7. LƯU TRỮ DỮ LIỆU
# ===============================================================
storage:
  backend: "auto"

  formats:
    sqlite: true
    txt: false
    html: true

  local:
    data_dir: "output"
    retention_days: 0

  remote:
    retention_days: 0
    endpoint_url: ""
    bucket_name: ""
    access_key_id: ""
    secret_access_key: ""
    region: ""

  pull:
    enabled: false
    days: 7


# ===============================================================
# 8. AI MODEL (DÙNG CHUNG)
# ===============================================================
ai:
  model: "deepseek/deepseek-chat"
  api_key: ""              # → dùng GitHub Secrets: AI_API_KEY
  api_base: ""
  timeout: 120
  temperature: 1.0
  max_tokens: 3000
  num_retries: 1
  fallback_models: []


# ===============================================================
# 9. AI PHÂN TÍCH TIN TỨC
# ===============================================================
ai_analysis:
  enabled: true
  language: "Vietnamese"
  prompt_file: "ai_analysis_prompt.txt"
  mode: "incremental"

  max_news_for_analysis: 20   # Rất tiết kiệm token
  include_rss: true
  include_standalone: false
  include_rank_timeline: false


# ===============================================================
# 10. TẮT AI DỊCH (KHÔNG CẦN)
# ===============================================================
ai_translation:
  enabled: false


# ===============================================================
# 11. NÂNG CAO (GIỮ MẶC ĐỊNH)
# ===============================================================
advanced:
  debug: false

  crawler:
    request_interval: 2000
    use_proxy: false
    default_proxy: ""

  rss:
    request_interval: 1000
    timeout: 15
    use_proxy: false
    proxy_url: ""

  max_accounts_per_channel: 3
